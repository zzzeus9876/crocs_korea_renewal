@use '../../App.scss' as g;

.monthly_wrap {
    height: 100vh;
    position: relative;
    overflow: hidden;
    padding: 0;

    .inner {
        @include g.flex();
        height: 100vh;
        position: relative;

        .monthly_left {
            width: 50%;
            height: 100vh;
            position: relative;

            > .title_wrap {
                position: absolute;
                left: 0;
                @include g.flex($fd: column, $jc: center, $ai: flex-start);
                padding-top: 25rem;

                .section_title,
                .section_sub_title {
                    text-align: start;
                }
            }

            .jibbitz {
                position: absolute;
                animation: float 4s ease-in-out infinite;
            }

            .jibbitz_img1 {
                right: 35%;
                top: 15%;
                width: 20rem;
                animation-delay: 0s;
            }

            .jibbitz_img2 {
                left: -10%;
                bottom: 20%;
                width: 15rem;
                animation-delay: 1s;
                animation-duration: 5s;
            }

            .jibbitz_img3 {
                right: 20%;
                bottom: 30%;
                width: 12rem;
                animation-delay: 3s;
                animation-duration: 3s;
            }

            // 둥둥 뜨는 keyframes 정의
            @keyframes float {
                0% {
                    transform: translateY(0px);
                }
                50% {
                    transform: translateY(-15px); // 위로 살짝 이동
                }
                100% {
                    transform: translateY(0px);
                }
            }
        }

        .btn_wrap {
            position: absolute;
            top: 50%;
            left: 55%;
            width: 500px;
            transition: opacity 0.3s ease, transform 0.3s ease;
            z-index: 500;

            button {
                pointer-events: auto;
                position: absolute;
                font-size: 15px;
                font-weight: 600;
                background-color: transparent;
                border: none;
                cursor: pointer;
                display: inline-flex;
                align-items: center;
                justify-content: center;
                user-select: none;
                transition: transform 0.3s ease, opacity 0.3s ease;
                transform: translateY(-50%);

                p {
                    margin: 0;
                    transition: transform 0.3s ease, opacity 0.3s ease;
                    pointer-events: none;
                }

                &::before,
                &::after {
                    content: '';
                    position: absolute;
                    top: -12px;
                    width: 40px;
                    height: 1px;
                    background-color: rgb(51, 51, 51);
                    transition: transform 0.35s cubic-bezier(0.2, 0.9, 0.2, 1), width 0.25s ease,
                        opacity 0.25s ease;
                    opacity: 1;
                    pointer-events: none;
                }

                /*왼쪽 */
                &.monthly_btn {
                    left: -170px;
                    transform: rotate(-90deg);
                    transform-origin: center;

                    &::before {
                        left: 50%;
                        transform-origin: left center;
                    }
                    &::after {
                        right: 50%;
                        transform-origin: right center;
                    }

                    /* hover 45도 회전 — 기존 효과 유지 */
                    &:hover {
                        p {
                            transform: translateY(-6px);
                            opacity: 0;
                        }

                        &::before {
                            transform: rotate(45deg);
                        }
                        &::after {
                            transform: rotate(-45deg);
                        }
                    }

                    /* 슬라이드 이동 시 왼쪽으로 밀리며 사라지는 클래스 추가 */
                    &.slide_exit {
                        opacity: 0;
                        transform: rotate(-90deg) translateY(-5rem);
                        transition: transform 0.8s ease, opacity 0.5s ease;
                    }
                }
            }
        }

        .monthly_right {
            position: absolute;
            top: 0;
            left: 50%;
            width: 240rem;
            background: #eee;
            padding-left: 20rem;
            transition: transform 1s ease-in-out;
            transform: translateX(0);
            z-index: 600;

            &.active {
                // left: 0;
                transform: translateX(-50%);
            }

            .monthly_card_wrap {
                @include g.flex($fw: wrap);
                height: 100vh;

                .monthly_card_list {
                    @include g.flex($gap: 12rem);
                    transition: transform 0.5s ease-in-out;
                    will-change: transform;

                    &.slide-left {
                        transform: translateX(-50%);
                    }
                    &.slide-right {
                        transform: translateX(0);
                    }
                }

                .monthly_card {
                    display: block;
                    position: relative;

                    .card_img {
                        position: relative;

                        .main_img {
                            width: 40rem;
                            height: 52rem;
                        }

                        .a_img {
                            position: absolute;
                            z-index: 100;
                            max-width: none;
                            height: 70rem;
                        }

                        .a_img_1 {
                            top: 60%;
                            left: 45%;
                            transform: translate(-50%, -50%);
                        }
                        .a_img_2 {
                            bottom: 0;
                            left: 55%;
                            transform: translateX(-50%);
                            z-index: 800;
                        }
                        .a_img_3 {
                            top: 45%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                            height: 85rem;
                            z-index: 800;
                        }
                        .a_img_4 {
                            top: 55%;
                            left: 50%;
                            transform: translate(-50%, -50%);
                        }

                        .item_card {
                            position: absolute;
                            top: 0;
                            left: 0;
                            width: 100%;
                            height: 100%;

                            .item_box {
                                @include g.flex($gap: null);
                                position: absolute;
                                z-index: 700; // 이미지 위로
                                // border: 0.5px solid #ccc;
                                border-radius: 1rem;
                                opacity: 0;
                                // visibility: hidden;
                                transform: translateY(10px);
                                transition: opacity 0.3s ease-in-out, transform 0.3s ease-in-out;

                                .img_box {
                                    width: 15rem;
                                    height: 15rem;
                                    background: #fff;
                                    text-align: center;
                                    border-radius: 1rem 0 0 1rem;
                                    line-height: 15rem;

                                    img {
                                        width: 12rem;
                                    }
                                }

                                .text_box {
                                    width: 15rem;
                                    height: 15rem;
                                    background: rgba($color: g.$subColor, $alpha: 0.7);
                                    border-radius: 0 1rem 1rem 0;
                                    @include g.flex($fd: column, $jc: center, $gap: 1rem);

                                    .title {
                                        font-weight: 500;
                                        color: #fff;
                                    }
                                    .dc_wrap {
                                        @include g.flex($gap: 1rem);
                                        > span {
                                            font-weight: bold;
                                            color: g.$mainColor;
                                        }
                                        strong {
                                            color: #fff;
                                        }
                                    }
                                    .price {
                                        font-weight: bold;
                                        color: g.$mainColor;
                                    }
                                    .price_d {
                                        color: #ccc;
                                        font-size: 1.4rem;
                                        text-decoration: line-through;
                                    }
                                }

                                &.item_box_1 {
                                    bottom: 10%;
                                    left: -30%;
                                }
                                &.item_box_2 {
                                    top: -25%;
                                    left: -20%;
                                }
                                &.item_box_3 {
                                    top: -25%;
                                    left: 60%;
                                }
                                &.item_box_4 {
                                    top: 40%;
                                    left: 70%;
                                }
                            }

                            // 카드 호버 시 상세 박스 표시
                            .item_box {
                                pointer-events: auto;
                            }
                        }

                        // 카드 호버 시 아이템 카드 나타나도록
                        &:hover .item_card .item_box {
                            opacity: 1;
                            visibility: visible;
                            transform: translateY(0);
                        }
                    }
                }
            }
        }
    }
}
